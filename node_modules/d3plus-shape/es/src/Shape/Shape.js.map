{"version":3,"file":"Shape.js","sources":["../../../src/Shape/Shape.js"],"sourcesContent":["/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\n\nimport {min} from \"d3-array\";\nimport {color} from \"d3-color\";\nimport {mouse, select, selectAll} from \"d3-selection\";\nimport {transition} from \"d3-transition\";\n\nimport {accessor, assign, attrize, BaseClass, constant, elem} from \"d3plus-common\";\nimport {colorContrast} from \"d3plus-color\";\nimport {strip, TextBox} from \"d3plus-text\";\n\nimport Image from \"../Image\";\nimport pointDistance from \"../geom/pointDistance\";\n\n/**\n    @class Shape\n    @extends external:BaseClass\n    @desc An abstracted class for generating shapes.\n*/\nexport default class Shape extends BaseClass {\n\n  /**\n      @memberof Shape\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor(tagName = \"g\") {\n\n    super();\n\n    this._activeOpacity = 0.25;\n    this._activeStyle = {\n      \"stroke\": \"#444444\",\n      \"stroke-width\": (d, i) => {\n        const s = this._strokeWidth(d, i) || 1;\n        return s * 3;\n      }\n    };\n    this._backgroundImage = constant(false);\n    this._backgroundImageClass = new Image();\n    this._data = [];\n    this._duration = 600;\n    this._fill = constant(\"black\");\n    this._fillOpacity = constant(1);\n\n    this._hoverOpacity = 0.5;\n    this._id = (d, i) => d.id !== void 0 ? d.id : i;\n    this._label = constant(false);\n    this._labelClass = new TextBox();\n    this._labelConfig = {\n      fontColor: (d, i) => colorContrast(this._fill(d, i)),\n      fontSize: 12\n    };\n    this._labelPadding = constant(5);\n    this._name = \"Shape\";\n    this._opacity = constant(1);\n    this._rx = constant(0);\n    this._ry = constant(0);\n    this._scale = constant(1);\n    this._shapeRendering = constant(\"geometricPrecision\");\n    this._stroke = (d, i) => color(this._fill(d, i)).darker(1);\n    this._strokeDasharray = constant(\"0\");\n    this._strokeLinecap = constant(\"butt\");\n    this._strokeOpacity = constant(1);\n    this._strokeWidth = constant(0);\n    this._tagName = tagName;\n    this._textAnchor = constant(\"start\");\n    this._vectorEffect = constant(\"non-scaling-stroke\");\n    this._verticalAlign = constant(\"top\");\n\n    this._x = accessor(\"x\", 0);\n    this._y = accessor(\"y\", 0);\n\n  }\n\n  /**\n      @memberof Shape\n      @desc Given a specific data point and index, returns the aesthetic properties of the shape.\n      @param {Object} *data point*\n      @param {Number} *index*\n      @private\n  */\n  _aes() {\n    return {};\n  }\n\n  /**\n      @memberof Shape\n      @desc Adds event listeners to each shape group or hit area.\n      @param {D3Selection} *update* The update cycle of the data binding.\n      @private\n  */\n  _applyEvents(handler) {\n\n    const events = Object.keys(this._on);\n    for (let e = 0; e < events.length; e++) {\n      handler.on(events[e], (d, i) => {\n        if (!this._on[events[e]]) return;\n        if (d.i !== void 0) i = d.i;\n        if (d.nested && d.values) {\n          const cursor = mouse(this._select.node()),\n                values = d.values.map(d => pointDistance(cursor, [this._x(d, i), this._y(d, i)]));\n          d = d.values[values.indexOf(min(values))];\n        }\n        this._on[events[e]].bind(this)(d, i);\n      });\n    }\n\n  }\n\n  /**\n      @memberof Shape\n      @desc Provides the default styling to the active shape elements.\n      @param {HTMLElement} *elem*\n      @private\n  */\n  _applyActive(elem) {\n\n    const that = this;\n\n    if (elem.size() && elem.node().tagName === \"g\") elem = elem.selectAll(\"*\");\n\n    /**\n        @desc Determines whether a shape is a nested collection of data points, and uses the appropriate data and index for the given function context.\n        @param {Object} *d* data point\n        @param {Number} *i* index\n        @private\n    */\n    function styleLogic(d, i) {\n      return typeof this !== \"function\" ? this\n        : d.nested && d.key && d.values\n          ? this(d.values[0], that._data.indexOf(d.values[0]))\n          : this(d, i);\n    }\n\n    const activeStyle = {};\n    for (const key in this._activeStyle) {\n      if ({}.hasOwnProperty.call(this._activeStyle, key)) {\n        activeStyle[key] = styleLogic.bind(this._activeStyle[key]);\n      }\n    }\n\n    elem.transition().duration(0).call(attrize, activeStyle);\n\n  }\n\n  /**\n      @memberof Shape\n      @desc Provides the default styling to the shape elements.\n      @param {HTMLElement} *elem*\n      @private\n  */\n  _applyStyle(elem) {\n\n    const that = this;\n\n    if (elem.size() && elem.node().tagName === \"g\") elem = elem.selectAll(\"*\");\n\n    /**\n        @desc Determines whether a shape is a nested collection of data points, and uses the appropriate data and index for the given function context.\n        @param {Object} *d* data point\n        @param {Number} *i* index\n        @private\n    */\n    function styleLogic(d, i) {\n      return typeof this !== \"function\" ? this\n        : d.nested && d.key && d.values\n          ? this(d.values[0], that._data.indexOf(d.values[0]))\n          : this(d, i);\n    }\n\n    elem\n      .attr(\"fill\", styleLogic.bind(this._fill))\n      .attr(\"fill-opacity\", styleLogic.bind(this._fillOpacity))\n      .attr(\"rx\", styleLogic.bind(this._rx))\n      .attr(\"ry\", styleLogic.bind(this._ry))\n      .attr(\"stroke\", styleLogic.bind(this._stroke))\n      .attr(\"stroke-dasharray\", styleLogic.bind(this._strokeDasharray))\n      .attr(\"stroke-linecap\", styleLogic.bind(this._strokeLinecap))\n      .attr(\"stroke-opacity\", styleLogic.bind(this._strokeOpacity))\n      .attr(\"stroke-width\", styleLogic.bind(this._strokeWidth))\n      .attr(\"vector-effect\", styleLogic.bind(this._vectorEffect));\n  }\n\n  /**\n      @memberof Shape\n      @desc Calculates the transform for the group elements.\n      @param {HTMLElement} *elem*\n      @private\n  */\n  _applyTransform(elem) {\n\n    elem\n      .attr(\"transform\", (d, i) => `\n        translate(${d.__d3plusShape__\n    ? d.translate ? d.translate\n    : `${this._x(d.data, d.i)},${this._y(d.data, d.i)}`\n    : `${this._x(d, i)},${this._y(d, i)}`})\n        scale(${d.__d3plusShape__ ? d.scale || this._scale(d.data, d.i)\n  : this._scale(d, i)})`);\n  }\n\n  /**\n      @memberof Shape\n      @desc Checks for nested data and uses the appropriate variables for accessor functions.\n      @param {HTMLElement} *elem*\n      @private\n  */\n  _nestWrapper(method) {\n    return (d, i) => method(d.__d3plusShape__ ? d.data : d, d.__d3plusShape__ ? d.i : i);\n  }\n\n  /**\n      @memberof Shape\n      @desc Modifies existing shapes to show active status.\n      @private\n  */\n  _renderActive() {\n\n    const that = this;\n\n    this._group.selectAll(\".d3plus-Shape, .d3plus-Image, .d3plus-textBox\")\n      .each(function(d, i) {\n\n        if (!d) d = {};\n        if (!d.parentNode) d.parentNode = this.parentNode;\n        const parent = d.parentNode;\n\n        if (select(this).classed(\"d3plus-textBox\")) d = d.data;\n        if (d.__d3plusShape__ || d.__d3plus__) {\n          while (d && (d.__d3plusShape__ || d.__d3plus__)) {\n            i = d.i;\n            d = d.data;\n          }\n        }\n        else i = that._data.indexOf(d);\n\n        const group = !that._active || typeof that._active !== \"function\" || !that._active(d, i) ? parent : that._activeGroup.node();\n        if (group !== this.parentNode) {\n          group.appendChild(this);\n          if (this.className.baseVal.includes(\"d3plus-Shape\")) {\n            if (parent === group) select(this).call(that._applyStyle.bind(that));\n            else select(this).call(that._applyActive.bind(that));\n          }\n        }\n\n      });\n\n    this._renderImage();\n    this._renderLabels();\n\n    this._group.selectAll(`g.d3plus-${this._name}-shape, g.d3plus-${this._name}-image, g.d3plus-${this._name}-text`)\n      .attr(\"opacity\", this._hover ? this._hoverOpacity : this._active ? this._activeOpacity : 1);\n\n  }\n\n  /**\n      @memberof Shape\n      @desc Modifies existing shapes to show hover status.\n      @private\n  */\n  _renderHover() {\n\n    const that = this;\n\n    this._group.selectAll(`g.d3plus-${this._name}-shape, g.d3plus-${this._name}-image, g.d3plus-${this._name}-text, g.d3plus-${this._name}-hover`)\n      .selectAll(\".d3plus-Shape, .d3plus-Image, .d3plus-textBox\")\n      .each(function(d, i) {\n\n        if (!d) d = {};\n        if (!d.parentNode) d.parentNode = this.parentNode;\n        const parent = d.parentNode;\n\n        if (select(this).classed(\"d3plus-textBox\")) d = d.data;\n        if (d.__d3plusShape__ || d.__d3plus__) {\n          while (d && (d.__d3plusShape__ || d.__d3plus__)) {\n            i = d.i;\n            d = d.data;\n          }\n        }\n        else i = that._data.indexOf(d);\n\n        const group = !that._hover || typeof that._hover !== \"function\" || !that._hover(d, i) ? parent : that._hoverGroup.node();\n        if (group !== this.parentNode) group.appendChild(this);\n\n      });\n\n    this._renderImage();\n    this._renderLabels();\n\n    this._group.selectAll(`g.d3plus-${this._name}-shape, g.d3plus-${this._name}-image, g.d3plus-${this._name}-text`)\n      .attr(\"opacity\", this._hover ? this._hoverOpacity : this._active ? this._activeOpacity : 1);\n\n  }\n\n  /**\n      @memberof Shape\n      @desc Adds background image to each shape group.\n      @private\n  */\n  _renderImage() {\n\n    const imageData = [];\n\n    this._update.merge(this._enter).data()\n      .forEach((datum, i) => {\n\n        const aes = this._aes(datum, i);\n\n        if (aes.r || aes.width && aes.height) {\n\n          let d = datum;\n          if (datum.nested && datum.key && datum.values) {\n            d = datum.values[0];\n            i = this._data.indexOf(d);\n          }\n\n          const height = aes.r ? aes.r * 2 : aes.height,\n                url = this._backgroundImage(d, i),\n                width = aes.r ? aes.r * 2 : aes.width;\n\n          if (url) {\n\n            let x = d.__d3plusShape__ ? d.translate ? d.translate[0]\n                  : this._x(d.data, d.i) : this._x(d, i),\n                y = d.__d3plusShape__ ? d.translate ? d.translate[1]\n                  : this._y(d.data, d.i) : this._y(d, i);\n\n            if (aes.x) x += aes.x;\n            if (aes.y) y += aes.y;\n\n            if (d.__d3plusShape__) {\n              d = d.data;\n              i = d.i;\n            }\n\n            imageData.push({\n              __d3plus__: true,\n              data: d,\n              height,\n              i,\n              id: this._id(d, i),\n              url,\n              width,\n              x: x + -width / 2,\n              y: y + -height / 2\n            });\n\n          }\n\n        }\n\n      });\n\n    this._backgroundImageClass\n      .data(imageData)\n      .duration(this._duration)\n      .pointerEvents(\"none\")\n      .select(elem(`g.d3plus-${this._name}-image`, {parent: this._group, update: {opacity: this._active ? this._activeOpacity : 1}}).node())\n      .render();\n\n  }\n\n  /**\n      @memberof Shape\n      @desc Adds labels to each shape group.\n      @private\n  */\n  _renderLabels() {\n\n    const labelData = [];\n\n    this._update.merge(this._enter).data()\n      .forEach((datum, i) => {\n\n        let d = datum;\n        if (datum.nested && datum.key && datum.values) {\n          d = datum.values[0];\n          i = this._data.indexOf(d);\n        }\n\n        let labels = this._label(d, i);\n\n        if (this._labelBounds && labels !== false && labels !== undefined && labels !== null) {\n\n          const bounds = this._labelBounds(d, i, this._aes(datum, i));\n\n          if (bounds) {\n\n            if (labels.constructor !== Array) labels = [labels];\n\n            const x = d.__d3plusShape__ ? d.translate ? d.translate[0]\n                    : this._x(d.data, d.i) : this._x(d, i),\n                  y = d.__d3plusShape__ ? d.translate ? d.translate[1]\n                    : this._y(d.data, d.i) : this._y(d, i);\n\n            if (d.__d3plusShape__) {\n              d = d.data;\n              i = d.i;\n            }\n\n            const padding = this._labelPadding(d, i);\n\n            for (let l = 0; l < labels.length; l++) {\n\n              const b = bounds.constructor === Array ? bounds[l] : Object.assign({}, bounds),\n                    p = padding.constructor === Array ? padding[l] : padding;\n\n              labelData.push({\n                __d3plus__: true,\n                data: d,\n                height: b.height - p * 2,\n                l,\n                id: `${this._id(d, i)}_${l}`,\n                r: bounds.angle !== undefined ? bounds.angle : 0,\n                text: labels[l],\n                width: b.width - p * 2,\n                x: x + b.x + p,\n                y: y + b.y + p\n              });\n\n            }\n\n          }\n\n        }\n\n      });\n\n    this._labelClass\n      .data(labelData)\n      .duration(this._duration)\n      .pointerEvents(\"none\")\n      .rotate(d => d.data.r)\n      .select(elem(`g.d3plus-${this._name}-text`, {parent: this._group, update: {opacity: this._active ? this._activeOpacity : 1}}).node())\n      .config(this._labelConfig)\n      .render();\n\n  }\n\n  /**\n      @memberof Shape\n      @desc Renders the current Shape to the page. If a *callback* is specified, it will be called once the shapes are done drawing.\n      @param {Function} [*callback*]\n      @chainable\n  */\n  render(callback) {\n\n    if (this._select === void 0) {\n      this.select(select(\"body\").append(\"svg\")\n        .style(\"width\", `${window.innerWidth}px`)\n        .style(\"height\", `${window.innerHeight}px`)\n        .style(\"display\", \"block\").node());\n    }\n\n    this._transition = transition().duration(this._duration);\n\n    let data = this._data, key = this._id;\n    if (this._dataFilter) {\n      data = this._dataFilter(data);\n      if (data.key) key = data.key;\n    }\n\n    if (this._sort) data = data.sort((a, b) => this._sort(a.__d3plusShape__ ? a.data : a, b.__d3plusShape__ ? b.data : b));\n\n    selectAll(`g.d3plus-${this._name}-hover > *, g.d3plus-${this._name}-active > *`).each(function(d) {\n      if (d && d.parentNode) d.parentNode.appendChild(this);\n      else this.parentNode.removeChild(this);\n    });\n\n    // Makes the update state of the group selection accessible.\n    this._group = elem(`g.d3plus-${this._name}-group`, {parent: this._select});\n    const update = this._update = elem(`g.d3plus-${this._name}-shape`, {parent: this._group, update: {opacity: this._active ? this._activeOpacity : 1}})\n      .selectAll(`.d3plus-${this._name}`)\n      .data(data, key);\n\n    // Orders and transforms the updating Shapes.\n    update.order().transition(this._transition)\n      .call(this._applyTransform.bind(this));\n\n    // Makes the enter state of the group selection accessible.\n    const enter = this._enter = update.enter().append(this._tagName)\n      .attr(\"class\", (d, i) => `d3plus-Shape d3plus-${this._name} d3plus-id-${strip(this._nestWrapper(this._id)(d, i))}`)\n      .call(this._applyTransform.bind(this))\n      .attr(\"opacity\", this._nestWrapper(this._opacity));\n\n    const enterUpdate = enter.merge(update);\n\n    enterUpdate\n      .attr(\"shape-rendering\", this._nestWrapper(this._shapeRendering))\n      .attr(\"pointer-events\", \"none\")\n      .transition(this._transition)\n      .attr(\"opacity\", this._nestWrapper(this._opacity))\n      .transition()\n      .attr(\"pointer-events\", \"all\");\n\n    // Makes the exit state of the group selection accessible.\n    const exit = this._exit = update.exit();\n    exit.transition().delay(this._duration).remove();\n\n    this._renderImage();\n    this._renderLabels();\n\n    this._hoverGroup = elem(`g.d3plus-${this._name}-hover`, {parent: this._group});\n    this._activeGroup = elem(`g.d3plus-${this._name}-active`, {parent: this._group});\n\n    const that = this;\n\n    const hitAreas = this._group.selectAll(\".d3plus-HitArea\")\n      .data(this._hitArea ? data : [], key);\n\n    hitAreas.order().transition(this._transition)\n      .call(this._applyTransform.bind(this));\n\n    const hitEnter = hitAreas.enter().append(\"rect\")\n      .attr(\"class\", (d, i) => `d3plus-HitArea d3plus-id-${strip(this._nestWrapper(this._id)(d, i))}`)\n      .attr(\"fill\", \"transparent\")\n      .call(this._applyTransform.bind(this));\n\n    const hitUpdates = hitAreas.merge(hitEnter)\n      .each(function(d) {\n        const h = that._hitArea(d, that._data.indexOf(d), that._aes(d, that._data.indexOf(d)));\n        return h ? select(this).call(attrize, h) : select(this).remove();\n      });\n\n    hitAreas.exit().remove();\n\n    this._applyEvents(this._hitArea ? hitUpdates : enterUpdate);\n\n    setTimeout(() => {\n      if (this._active) this._renderActive();\n      else if (this._hover) this._renderHover();\n      if (callback) callback();\n    }, this._duration + 100);\n\n    return this;\n\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the highlight accessor to the specified function and returns the current class instance.\n      @param {Function} [*value*]\n      @chainable\n  */\n  active(_) {\n\n    if (!arguments.length || _ === undefined) return this._active;\n    this._active = _;\n    if (this._group) {\n      this._renderImage();\n      this._renderLabels();\n      this._renderActive();\n    }\n    return this;\n\n  }\n\n  /**\n      @memberof Shape\n      @desc When shapes are active, this is the opacity of any shape that is not active.\n      @param {Number} *value* = 0.25\n      @chainable\n  */\n  activeOpacity(_) {\n    return arguments.length ? (this._activeOpacity = _, this) : this._activeOpacity;\n  }\n\n  /**\n      @memberof Shape\n      @desc The style to apply to active shapes.\n      @param {Object} *value*\n      @chainable\n  */\n  activeStyle(_) {\n    return arguments.length ? (this._activeStyle = assign({}, this._activeStyle, _), this) : this._activeStyle;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the background-image accessor to the specified function or string and returns the current class instance.\n      @param {Function|String} [*value* = false]\n      @chainable\n  */\n  backgroundImage(_) {\n    return arguments.length\n      ? (this._backgroundImage = typeof _ === \"function\" ? _ : constant(_), this)\n      : this._backgroundImage;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *data* is specified, sets the data array to the specified array and returns the current class instance. If *data* is not specified, returns the current data array. A shape will be drawn for each object in the array.\n      @param {Array} [*data* = []]\n      @chainable\n  */\n  data(_) {\n    return arguments.length\n      ? (this._data = _, this)\n      : this._data;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *ms* is specified, sets the animation duration to the specified number and returns the current class instance. If *ms* is not specified, returns the current animation duration.\n      @param {Number} [*ms* = 600]\n      @chainable\n  */\n  duration(_) {\n    return arguments.length\n      ? (this._duration = _, this)\n      : this._duration;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the fill accessor to the specified function or string and returns the current class instance.\n      @param {Function|String} [*value* = \"black\"]\n      @chainable\n  */\n  fill(_) {\n    return arguments.length\n      ? (this._fill = typeof _ === \"function\" ? _ : constant(_), this)\n      : this._fill;\n  }\n\n  /**\n      @memberof Shape\n      @desc Defines the \"fill-opacity\" attribute for the shapes.\n      @param {Function|Number} [*value* = 1]\n      @chainable\n  */\n  fillOpacity(_) {\n    return arguments.length\n      ? (this._fillOpacity = typeof _ === \"function\" ? _ : constant(_), this)\n      : this._fillOpacity;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the highlight accessor to the specified function and returns the current class instance.\n      @param {Function} [*value*]\n      @chainable\n  */\n  hover(_) {\n\n    if (!arguments.length || _ === void 0) return this._hover;\n    this._hover = _;\n    if (this._group) {\n      this._renderImage();\n      this._renderLabels();\n      this._renderHover();\n    }\n    return this;\n\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the hover opacity to the specified function and returns the current class instance.\n      @param {Number} [*value* = 0.5]\n      @chainable\n  */\n  hoverOpacity(_) {\n    return arguments.length ? (this._hoverOpacity = _, this) : this._hoverOpacity;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *bounds* is specified, sets the mouse hit area to the specified function and returns the current class instance. If *bounds* is not specified, returns the current mouse hit area accessor.\n      @param {Function} [*bounds*] The given function is passed the data point, index, and internally defined properties of the shape and should return an object containing the following values: `width`, `height`, `x`, `y`.\n      @chainable\n      @example\nfunction(d, i, shape) {\n  return {\n    \"width\": shape.width,\n    \"height\": shape.height,\n    \"x\": -shape.width / 2,\n    \"y\": -shape.height / 2\n  };\n}\n  */\n  hitArea(_) {\n    return arguments.length ? (this._hitArea = typeof _ === \"function\" ? _ : constant(_), this) : this._hitArea;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the id accessor to the specified function and returns the current class instance.\n      @param {Function} [*value*]\n      @chainable\n  */\n  id(_) {\n    return arguments.length ? (this._id = _, this) : this._id;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the label accessor to the specified function or string and returns the current class instance.\n      @param {Function|String|Array} [*value*]\n      @chainable\n  */\n  label(_) {\n    return arguments.length ? (this._label = typeof _ === \"function\" ? _ : constant(_), this) : this._label;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *bounds* is specified, sets the label bounds to the specified function and returns the current class instance. If *bounds* is not specified, returns the current inner bounds accessor.\n      @param {Function} [*bounds*] The given function is passed the data point, index, and internally defined properties of the shape and should return an object containing the following values: `width`, `height`, `x`, `y`. If an array is returned from the function, each value will be used in conjunction with each label.\n      @chainable\n      @example\nfunction(d, i, shape) {\n  return {\n    \"width\": shape.width,\n    \"height\": shape.height,\n    \"x\": -shape.width / 2,\n    \"y\": -shape.height / 2\n  };\n}\n  */\n  labelBounds(_) {\n    return arguments.length ? (this._labelBounds = typeof _ === \"function\" ? _ : constant(_), this) : this._labelBounds;\n  }\n\n  /**\n      @memberof Shape\n      @desc A pass-through to the config method of the TextBox class used to create a shape's labels.\n      @param {Object} [*value*]\n      @chainable\n  */\n  labelConfig(_) {\n    return arguments.length ? (this._labelConfig = assign(this._labelConfig, _), this) : this._labelConfig;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the label padding to the specified number and returns the current class instance.\n      @param {Function|Number|Array} [*value* = 10]\n      @chainable\n  */\n  labelPadding(_) {\n    return arguments.length ? (this._labelPadding = typeof _ === \"function\" ? _ : constant(_), this) : this._labelPadding;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the opacity accessor to the specified function or number and returns the current class instance.\n      @param {Number} [*value* = 1]\n      @chainable\n  */\n  opacity(_) {\n    return arguments.length ? (this._opacity = typeof _ === \"function\" ? _ : constant(_), this) : this._opacity;\n  }\n\n  /**\n      @memberof Shape\n      @desc Defines the \"rx\" attribute for the shapes.\n      @param {Function|Number} [*value* = 0]\n      @chainable\n  */\n  rx(_) {\n    return arguments.length ? (this._rx = typeof _ === \"function\" ? _ : constant(_), this) : this._rx;\n  }\n\n  /**\n      @memberof Shape\n      @desc Defines the \"rx\" attribute for the shapes.\n      @param {Function|Number} [*value* = 0]\n      @chainable\n  */\n  ry(_) {\n    return arguments.length ? (this._ry = typeof _ === \"function\" ? _ : constant(_), this) : this._ry;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the scale accessor to the specified function or string and returns the current class instance.\n      @param {Function|Number} [*value* = 1]\n      @chainable\n  */\n  scale(_) {\n    return arguments.length ? (this._scale = typeof _ === \"function\" ? _ : constant(_), this) : this._scale;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n      @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n      @chainable\n  */\n  select(_) {\n    return arguments.length ? (this._select = select(_), this) : this._select;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the shape-rendering accessor to the specified function or string and returns the current class instance.\n      @param {Function|String} [*value* = \"geometricPrecision\"]\n      @chainable\n      @example\nfunction(d) {\n  return d.x;\n}\n  */\n  shapeRendering(_) {\n    return arguments.length ? (this._shapeRendering = typeof _ === \"function\" ? _ : constant(_), this) : this._shapeRendering;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the sort comparator to the specified function and returns the current class instance.\n      @param {false|Function} [*value* = []]\n      @chainable\n  */\n  sort(_) {\n    return arguments.length ? (this._sort = _, this) : this._sort;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the stroke accessor to the specified function or string and returns the current class instance.\n      @param {Function|String} [*value* = \"black\"]\n      @chainable\n  */\n  stroke(_) {\n    return arguments.length ? (this._stroke = typeof _ === \"function\" ? _ : constant(_), this) : this._stroke;\n  }\n\n  /**\n      @memberof Shape\n      @desc Defines the \"stroke-dasharray\" attribute for the shapes.\n      @param {Function|String} [*value* = \"1\"]\n      @chainable\n  */\n  strokeDasharray(_) {\n    return arguments.length ? (this._strokeDasharray = typeof _ === \"function\" ? _ : constant(_), this) : this._strokeDasharray;\n  }\n\n  /**\n      @memberof Shape\n      @desc Defines the \"stroke-linecap\" attribute for the shapes. Accepted values are `\"butt\"`, `\"round\"`, and `\"square\"`.\n      @param {Function|String} [*value* = \"butt\"]\n      @chainable\n  */\n  strokeLinecap(_) {\n    return arguments.length ? (this._strokeLinecap = typeof _ === \"function\" ? _ : constant(_), this) : this._strokeLinecap;\n  }\n\n  /**\n      @memberof Shape\n      @desc Defines the \"stroke-opacity\" attribute for the shapes.\n      @param {Function|Number} [*value* = 1]\n      @chainable\n  */\n  strokeOpacity(_) {\n    return arguments.length ? (this._strokeOpacity = typeof _ === \"function\" ? _ : constant(_), this) : this._strokeOpacity;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the stroke-width accessor to the specified function or string and returns the current class instance.\n      @param {Function|Number} [*value* = 0]\n      @chainable\n  */\n  strokeWidth(_) {\n    return arguments.length ? (this._strokeWidth = typeof _ === \"function\" ? _ : constant(_), this) : this._strokeWidth;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the text-anchor accessor to the specified function or string and returns the current class instance.\n      @param {Function|String|Array} [*value* = \"start\"]\n      @chainable\n  */\n  textAnchor(_) {\n    return arguments.length ? (this._textAnchor = typeof _ === \"function\" ? _ : constant(_), this) : this._textAnchor;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the vector-effect accessor to the specified function or string and returns the current class instance.\n      @param {Function|String} [*value* = \"non-scaling-stroke\"]\n      @chainable\n  */\n  vectorEffect(_) {\n    return arguments.length ? (this._vectorEffect = typeof _ === \"function\" ? _ : constant(_), this) : this._vectorEffect;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the vertical alignment accessor to the specified function or string and returns the current class instance.\n      @param {Function|String|Array} [*value* = \"start\"]\n      @chainable\n  */\n  verticalAlign(_) {\n    return arguments.length ? (this._verticalAlign = typeof _ === \"function\" ? _ : constant(_), this) : this._verticalAlign;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the x accessor to the specified function or number and returns the current class instance.\n      @param {Function|Number} [*value*]\n      @chainable\n      @example\nfunction(d) {\n  return d.x;\n}\n  */\n  x(_) {\n    return arguments.length ? (this._x = typeof _ === \"function\" ? _ : constant(_), this) : this._x;\n  }\n\n  /**\n      @memberof Shape\n      @desc If *value* is specified, sets the y accessor to the specified function or number and returns the current class instance.\n      @param {Function|Number} [*value*]\n      @chainable\n      @example\nfunction(d) {\n  return d.y;\n}\n  */\n  y(_) {\n    return arguments.length ? (this._y = typeof _ === \"function\" ? _ : constant(_), this) : this._y;\n  }\n\n}\n"],"names":["super","const","this","e","let"],"mappings":"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"}