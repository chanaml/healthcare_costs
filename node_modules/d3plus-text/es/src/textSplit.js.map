{"version":3,"file":"textSplit.js","sources":["../../src/textSplit.js"],"sourcesContent":["import {default as stringify} from \"./stringify\";\nimport {default as combiningMarks} from \"./combiningMarks\";\nimport {merge} from \"d3-array\";\n\nconst splitChars = [\"-\",  \"/\",  \";\",  \":\",  \"&\",\n  \"u0E2F\",  // thai character pairannoi\n  \"u0EAF\",  // lao ellipsis\n  \"u0EC6\",  // lao ko la (word repetition)\n  \"u0ECC\",  // lao cancellation mark\n  \"u104A\",  // myanmar sign little section\n  \"u104B\",  // myanmar sign section\n  \"u104C\",  // myanmar symbol locative\n  \"u104D\",  // myanmar symbol completed\n  \"u104E\",  // myanmar symbol aforementioned\n  \"u104F\",  // myanmar symbol genitive\n  \"u2013\",  // en dash\n  \"u2014\",  // em dash\n  \"u2027\",  // simplified chinese hyphenation point\n  \"u3000\",  // simplified chinese ideographic space\n  \"u3001\",  // simplified chinese ideographic comma\n  \"u3002\",  // simplified chinese ideographic full stop\n  \"uFF0C\",  // full-width comma\n  \"uFF5E\"   // wave dash\n];\n\nconst prefixChars = [\"'\",  \"<\",  \"(\",  \"{\",  \"[\",\n  \"u00AB\",  // left-pointing double angle quotation mark\n  \"u300A\",  // left double angle bracket\n  \"u3008\"  // left angle bracket\n];\n\nconst suffixChars = [\"'\",  \">\",  \")\",  \"}\",  \"]\",  \".\",  \"!\",  \"?\",\n  \"u00BB\",  // right-pointing double angle quotation mark\n  \"u300B\",  // right double angle bracket\n  \"u3009\"  // right angle bracket\n].concat(splitChars);\n\nconst burmeseRange = \"\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\";\nconst japaneseRange = \"\\u3040-\\u309f\\u30a0-\\u30ff\\uff00-\\uff0b\\uff0d-\\uff5d\\uff5f-\\uff9f\\u3400-\\u4dbf\";\nconst chineseRange = \"\\u3400-\\u9FBF\";\nconst laoRange = \"\\u0E81-\\u0EAE\\u0EB0-\\u0EC4\\u0EC8-\\u0ECB\\u0ECD-\\u0EDD\";\n\nconst noSpaceRange = burmeseRange + chineseRange + laoRange;\n\nconst splitWords = new RegExp(`(\\\\${splitChars.join(\"|\\\\\")})*[^\\\\s|\\\\${splitChars.join(\"|\\\\\")}]*(\\\\${splitChars.join(\"|\\\\\")})*`, \"g\");\nconst japaneseChars = new RegExp(`[${japaneseRange}]`);\nconst noSpaceLanguage = new RegExp(`[${noSpaceRange}]`);\nconst splitAllChars = new RegExp(`(\\\\${prefixChars.join(\"|\\\\\")})*[${noSpaceRange}](\\\\${suffixChars.join(\"|\\\\\")}|\\\\${combiningMarks.join(\"|\\\\\")})*|[a-z0-9]+`, \"gi\");\n\n/**\n    @function textSplit\n    @desc Splits a given sentence into an array of words.\n    @param {String} sentence\n*/\nexport default function(sentence) {\n  if (!noSpaceLanguage.test(sentence)) return stringify(sentence).match(splitWords).filter(w => w.length);\n  return merge(stringify(sentence).match(splitWords).map(d => {\n    if (!japaneseChars.test(d) && noSpaceLanguage.test(d)) return d.match(splitAllChars);\n    return [d];\n  }));\n}\n\nexport {prefixChars, splitChars, splitWords, suffixChars};\n"],"names":["const"],"mappings":"AAAA,QAAQ,OAAO,IAAI,SAAS,OAAO,aAAa,CAAC;AACjD,QAAQ,OAAO,IAAI,cAAc,OAAO,kBAAkB,CAAC;AAC3D,QAAQ,KAAK,OAAO,UAAU,CAAC;;AAE/BA,GAAK,CAAC,UAAU,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;EAC7C,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;EACP,OAAO;CACR,CAAC;;AAEFA,GAAK,CAAC,WAAW,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;EAC9C,OAAO;EACP,OAAO;EACP,OAAO;CACR,CAAC;;AAEFA,GAAK,CAAC,WAAW,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;EAChE,OAAO;EACP,OAAO;EACP,OAAO;CACR,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;;AAErBA,GAAK,CAAC,YAAY,GAAG,yCAAyC,CAAC;AAC/DA,GAAK,CAAC,aAAa,GAAG,gFAAgF,CAAC;AACvGA,GAAK,CAAC,YAAY,GAAG,eAAe,CAAC;AACrCA,GAAK,CAAC,QAAQ,GAAG,sDAAsD,CAAC;;AAExEA,GAAK,CAAC,YAAY,GAAG,YAAY,GAAG,YAAY,GAAG,QAAQ,CAAC;;AAE5DA,GAAK,CAAC,UAAU,GAAG,IAAI,MAAM,CAAC,UAAM,UAAU,CAAC,IAAI,CAAC,KAAK,EAAC,mBAAa,UAAU,CAAC,IAAI,CAAC,KAAK,EAAC,cAAQ,UAAU,CAAC,IAAI,CAAC,KAAK,EAAC,QAAI,EAAE,GAAG,CAAC,CAAC;AACtIA,GAAK,CAAC,aAAa,GAAG,IAAI,MAAM,CAAC,OAAI,aAAa,OAAG,CAAC,CAAC;AACvDA,GAAK,CAAC,eAAe,GAAG,IAAI,MAAM,CAAC,OAAI,YAAY,OAAG,CAAC,CAAC;AACxDA,GAAK,CAAC,aAAa,GAAG,IAAI,MAAM,CAAC,UAAM,WAAW,CAAC,IAAI,CAAC,KAAK,EAAC,WAAM,YAAY,aAAO,WAAW,CAAC,IAAI,CAAC,KAAK,EAAC,YAAM,cAAc,CAAC,IAAI,CAAC,KAAK,EAAC,kBAAc,EAAE,IAAI,CAAC,CAAC;;;;;;;AAOpK,eAAe,SAAS,QAAQ,EAAE;EAChC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAE,OAAO,SAAS,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,WAAC,EAAC,CAAC,SAAG,CAAC,CAAC,SAAM,CAAC,GAAC;EACxG,OAAO,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,GAAG,WAAC,EAAC,CAAC,AAAG;IAC1D,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,IAAE,OAAO,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,GAAC;IACrF,OAAO,CAAC,CAAC,CAAC,CAAC;GACZ,CAAC,CAAC,CAAC;CACL;;AAED,QAAQ,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE;"}