{"version":3,"file":"d3plus-axis.js","sources":["../src/date.js","../src/Axis.js","../src/AxisBottom.js","../src/AxisLeft.js","../src/AxisRight.js","../src/AxisTop.js"],"sourcesContent":["/**\n    @function date\n    @summary Parses numbers and strings to valid Javascript Date objects.\n    @description Returns a javascript Date object for a given a Number (representing either a 4-digit year or milliseconds since epoch) or a String that is in [valid dateString format](http://dygraphs.com/date-formats.html). Besides the 4-digit year parsing, this function is useful when needing to parse negative (BC) years, which the vanilla Date object cannot parse.\n    @param {Number|String} *date*\n*/\nexport default function(d) {\n\n  // returns if already Date object\n  if (d.constructor === Date) return d;\n  // detects if milliseconds\n  else if (d.constructor === Number && `${d}`.length > 5 && d % 1 === 0) return new Date(d);\n\n  let s = `${d}`;\n  const dayFormat = new RegExp(/^\\d{1,2}[./-]\\d{1,2}[./-](-*\\d{1,4})$/g).exec(s),\n        strFormat = new RegExp(/^[A-z]{1,3} [A-z]{1,3} \\d{1,2} (-*\\d{1,4}) \\d{1,2}:\\d{1,2}:\\d{1,2} [A-z]{1,3}-*\\d{1,4} \\([A-z]{1,3}\\)/g).exec(s);\n\n  // tests for XX/XX/XXXX format\n  if (dayFormat) {\n    const year = dayFormat[1];\n    if (year.indexOf(\"-\") === 0) s = s.replace(year, year.substr(1));\n    const date = new Date(s);\n    date.setFullYear(year);\n    return date;\n  }\n  // tests for full Date object string format\n  else if (strFormat) {\n    const year = strFormat[1];\n    if (year.indexOf(\"-\") === 0) s = s.replace(year, year.substr(1));\n    const date = new Date(s);\n    date.setFullYear(year);\n    return date;\n  }\n  // detects if only passing a year value\n  else if (!s.includes(\"/\") && !s.includes(\" \") && (!s.includes(\"-\") || !s.indexOf(\"-\"))) {\n    const date = new Date(`${s}/01/01`);\n    date.setFullYear(d);\n    return date;\n  }\n  // parses string to Date object\n  else return new Date(s);\n\n}\n","/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\n\nimport {extent, max, min, range as d3Range} from \"d3-array\";\nimport * as scales from \"d3-scale\";\nimport {select} from \"d3-selection\";\nimport {transition} from \"d3-transition\";\n\nimport {assign, attrize, BaseClass, closest, constant, elem} from \"d3plus-common\";\nimport * as shapes from \"d3plus-shape\";\nimport {rtl as detectRTL, TextBox, textWidth, textWrap} from \"d3plus-text\";\n\nimport {default as date} from \"./date\";\n\n/**\n    @class Axis\n    @extends external:BaseClass\n    @desc Creates an SVG scale based on an array of data.\n*/\nexport default class Axis extends BaseClass {\n\n  /**\n      @memberof Axis\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n\n    super();\n\n    this._align = \"middle\";\n    this._barConfig = {\n      \"stroke\": \"#000\",\n      \"stroke-width\": 1\n    };\n    this._domain = [0, 10];\n    this._duration = 600;\n    this._gridConfig = {\n      \"stroke\": \"#ccc\",\n      \"stroke-width\": 1\n    };\n    this._height = 400;\n    this.orient(\"bottom\");\n    this._outerBounds = {width: 0, height: 0, x: 0, y: 0};\n    this._padding = 5;\n    this._paddingInner = 0.1;\n    this._paddingOuter = 0.1;\n    this._scale = \"linear\";\n    this._shape = \"Line\";\n    this._shapeConfig = {\n      fill: \"#000\",\n      height: d => d.tick ? 8 : 0,\n      label: d => d.text,\n      labelBounds: d => d.labelBounds,\n      labelConfig: {\n        fontColor: \"#000\",\n        fontFamily: new TextBox().fontFamily(),\n        fontResize: false,\n        fontSize: constant(10),\n        textAnchor: () => {\n          const rtl = detectRTL();\n          return this._orient === \"left\" ? rtl ? \"start\" : \"end\"\n            : this._orient === \"right\" ? rtl ? \"end\" : \"start\"\n            : \"middle\";\n        },\n        verticalAlign: () => this._orient === \"bottom\" ? \"top\" : this._orient === \"top\" ? \"bottom\" : \"middle\"\n      },\n      labelPadding: 0,\n      r: d => d.tick ? 4 : 0,\n      stroke: \"#000\",\n      strokeWidth: 1,\n      width: d => d.tick ? 8 : 0\n    };\n    this._tickSize = 5;\n    this._titleClass = new TextBox();\n    this._titleConfig = {\n      fontSize: 12,\n      textAnchor: \"middle\"\n    };\n    this._width = 400;\n\n  }\n\n  /**\n      @memberof Axis\n      @desc Sets positioning for the axis bar.\n      @param {D3Selection} *bar*\n      @private\n  */\n  _barPosition(bar) {\n\n    const {height, x, y, opposite} = this._position,\n          domain = this._getDomain(),\n          offset = this._margin[opposite],\n          position = [\"top\", \"left\"].includes(this._orient) ? this._outerBounds[y] + this._outerBounds[height] - offset : this._outerBounds[y] + offset;\n\n    bar\n      .call(attrize, this._barConfig)\n      .attr(`${x}1`, this._getPosition(domain[0]) - (this._scale === \"band\" ? this._d3Scale.step() - this._d3Scale.bandwidth() : 0))\n      .attr(`${x}2`, this._getPosition(domain[domain.length - 1]) + (this._scale === \"band\" ? this._d3Scale.step() : 0))\n      .attr(`${y}1`, position)\n      .attr(`${y}2`, position);\n\n  }\n\n  /**\n      @memberof Axis\n      @desc Returns the scale's domain, taking into account negative and positive log scales.\n      @private\n  */\n  _getDomain() {\n\n    let ticks = [];\n    if (this._d3ScaleNegative) ticks = this._d3ScaleNegative.domain();\n    if (this._d3Scale) ticks = ticks.concat(this._d3Scale.domain());\n\n    const domain = this._scale === \"ordinal\" ? ticks : extent(ticks);\n    return ticks[0] > ticks[1] ? domain.reverse() : domain;\n\n  }\n\n  /**\n      @memberof Axis\n      @desc Returns a value's scale position, taking into account negative and positive log scales.\n      @param {Number|String} *d*\n      @private\n  */\n  _getPosition(d) {\n    return d < 0 && this._d3ScaleNegative ? this._d3ScaleNegative(d) : this._d3Scale(d);\n  }\n\n  /**\n      @memberof Axis\n      @desc Returns the scale's range, taking into account negative and positive log scales.\n      @private\n  */\n  _getRange() {\n\n    let ticks = [];\n    if (this._d3ScaleNegative) ticks = this._d3ScaleNegative.range();\n    if (this._d3Scale) ticks = ticks.concat(this._d3Scale.range());\n    return ticks[0] > ticks[1] ? extent(ticks).reverse() : extent(ticks);\n\n  }\n\n  /**\n      @memberof Axis\n      @desc Returns the scale's ticks, taking into account negative and positive log scales.\n      @private\n  */\n  _getTicks() {\n    const tickScale = scales.scaleSqrt().domain([10, 400]).range([10, 50]);\n\n    let ticks = [];\n    if (this._d3ScaleNegative) {\n      const negativeRange = this._d3ScaleNegative.range();\n      const size = negativeRange[1] - negativeRange[0];\n      ticks = this._d3ScaleNegative.ticks(Math.floor(size / tickScale(size)));\n    }\n    if (this._d3Scale) {\n      const positiveRange = this._d3Scale.range();\n      const size = positiveRange[1] - positiveRange[0];\n      ticks = ticks.concat(this._d3Scale.ticks(Math.floor(size / tickScale(size))));\n    }\n\n    return ticks;\n  }\n\n  /**\n      @memberof Axis\n      @desc Sets positioning for the grid lines.\n      @param {D3Selection} *lines*\n      @private\n  */\n  _gridPosition(lines, last = false) {\n    const {height, x, y, opposite} = this._position,\n          offset = this._margin[opposite],\n          position = [\"top\", \"left\"].includes(this._orient) ? this._outerBounds[y] + this._outerBounds[height] - offset : this._outerBounds[y] + offset,\n          scale = last ? this._lastScale || this._getPosition.bind(this) : this._getPosition.bind(this),\n          size = [\"top\", \"left\"].includes(this._orient) ? offset : -offset,\n          xDiff = this._scale === \"band\" ? this._d3Scale.bandwidth() / 2 : 0,\n          xPos = d => scale(d.id) + xDiff;\n    lines\n      .call(attrize, this._gridConfig)\n      .attr(`${x}1`, xPos)\n      .attr(`${x}2`, xPos)\n      .attr(`${y}1`, position)\n      .attr(`${y}2`, last ? position : position + size);\n  }\n\n  /**\n      @memberof Axis\n      @desc Renders the current Axis to the page. If a *callback* is specified, it will be called once the legend is done drawing.\n      @param {Function} [*callback* = undefined]\n      @chainable\n  */\n  render(callback) {\n\n    if (this._select === void 0) {\n      this.select(select(\"body\").append(\"svg\")\n        .attr(\"width\", `${this._width}px`)\n        .attr(\"height\", `${this._height}px`)\n        .node());\n    }\n\n    const {width, height, x, y, horizontal, opposite} = this._position,\n          clipId = `d3plus-Axis-clip-${this._uuid}`,\n          flip = [\"top\", \"left\"].includes(this._orient),\n          p = this._padding,\n          parent = this._select,\n          t = transition().duration(this._duration);\n\n    let range = this._range ? this._range.slice() : [undefined, undefined];\n    if (range[0] === void 0) range[0] = p;\n    if (range[1] === void 0) range[1] = this[`_${width}`] - p;\n    this._size = range[1] - range[0];\n    if (this._scale === \"ordinal\" && this._domain.length > range.length) {\n      range = d3Range(this._domain.length).map(d => this._size * (d / (this._domain.length - 1)) + range[0]);\n    }\n\n    const margin = this._margin = {top: 0, right: 0, bottom: 0, left: 0};\n\n    if (this._title) {\n      const {fontFamily, fontSize, lineHeight} = this._titleConfig;\n      const titleWrap = textWrap()\n        .fontFamily(typeof fontFamily === \"function\" ? fontFamily() : fontFamily)\n        .fontSize(typeof fontSize === \"function\" ? fontSize() : fontSize)\n        .lineHeight(typeof lineHeight === \"function\" ? lineHeight() : lineHeight)\n        .width(this._size)\n        .height(this[`_${height}`] - this._tickSize - p);\n      const lines = titleWrap(this._title).lines.length;\n      margin[this._orient] = lines * titleWrap.lineHeight() + p;\n    }\n\n    this._d3Scale = scales[`scale${this._scale.charAt(0).toUpperCase()}${this._scale.slice(1)}`]()\n      .domain(this._scale === \"time\" ? this._domain.map(date) : this._domain);\n\n    if (this._d3Scale.rangeRound) this._d3Scale.rangeRound(range);\n    else this._d3Scale.range(range);\n\n    if (this._d3Scale.round) this._d3Scale.round(true);\n    if (this._d3Scale.paddingInner) this._d3Scale.paddingInner(this._paddingInner);\n    if (this._d3Scale.paddingOuter) this._d3Scale.paddingOuter(this._paddingOuter);\n\n    this._d3ScaleNegative = null;\n    if (this._scale === \"log\") {\n      const domain = this._d3Scale.domain();\n      if (domain[0] === 0) domain[0] = 1;\n      if (domain[domain.length - 1] === 0) domain[domain.length - 1] = -1;\n      const range = this._d3Scale.range();\n      if (domain[0] < 0 && domain[domain.length - 1] < 0) {\n        this._d3ScaleNegative = this._d3Scale.copy()\n          .domain(domain)\n          .range(range);\n        this._d3Scale = null;\n      }\n      else if (domain[0] > 0 && domain[domain.length - 1] > 0) {\n        this._d3Scale\n          .domain(domain)\n          .range(range);\n      }\n      else {\n        const percentScale = scales.scaleLog().domain([1, domain[domain[1] > 0 ? 1 : 0]]).range([0, 1]);\n        const leftPercentage = percentScale(Math.abs(domain[domain[1] < 0 ? 1 : 0]));\n        let zero = leftPercentage / (leftPercentage + 1) * (range[1] - range[0]);\n        if (domain[0] > 0) zero = range[1] - range[0] - zero;\n        this._d3ScaleNegative = this._d3Scale.copy();\n        (domain[0] < 0 ? this._d3Scale : this._d3ScaleNegative)\n          .domain([Math.sign(domain[1]), domain[1]])\n          .range([range[0] + zero, range[1]]);\n        (domain[0] < 0 ? this._d3ScaleNegative : this._d3Scale)\n          .domain([domain[0], Math.sign(domain[0])])\n          .range([range[0], range[0] + zero]);\n      }\n    }\n\n    let ticks = this._ticks\n      ? this._scale === \"time\" ? this._ticks.map(date) : this._ticks\n      : (this._d3Scale ? this._d3Scale.ticks : this._d3ScaleNegative.ticks)\n        ? this._getTicks()\n        : this._domain;\n\n    let labels = this._labels\n      ? this._scale === \"time\" ? this._labels.map(date) : this._labels\n      : (this._d3Scale ? this._d3Scale.ticks : this._d3ScaleNegative.ticks)\n        ? this._getTicks()\n        : ticks;\n\n    ticks = ticks.slice();\n    labels = labels.slice();\n\n    if (this._scale === \"log\") labels = labels.filter(t => Math.abs(t).toString().charAt(0) === \"1\" && (this._d3Scale ? t !== -1 : t !== 1));\n\n    const superscript = \"⁰¹²³⁴⁵⁶⁷⁸⁹\";\n    const tickFormat = this._tickFormat ? this._tickFormat : d => {\n      if (this._scale === \"log\") {\n        const p = Math.round(Math.log(Math.abs(d)) / Math.LN10);\n        const t = Math.abs(d).toString().charAt(0);\n        let n = `10 ${`${p}`.split(\"\").map(c => superscript[c]).join(\"\")}`;\n        if (t !== \"1\") n = `${t} x ${n}`;\n        return d < 0 ? `-${n}` : n;\n      }\n      return this._d3Scale.tickFormat ? this._d3Scale.tickFormat(labels.length - 1)(d) : d;\n    };\n\n    if (this._scale === \"time\") {\n      ticks = ticks.map(Number);\n      labels = labels.map(Number);\n    }\n    else if (this._scale === \"ordinal\") {\n      labels = labels.filter(label => ticks.includes(label));\n    }\n\n    ticks = ticks.sort((a, b) => this._getPosition(a) - this._getPosition(b));\n    labels = labels.sort((a, b) => this._getPosition(a) - this._getPosition(b));\n\n    const tickSize = this._shape === \"Circle\" ? this._shapeConfig.r\n      : this._shape === \"Rect\" ? this._shapeConfig[width]\n      : this._shapeConfig.strokeWidth;\n\n    const tickGet = typeof tickSize !== \"function\" ? () => tickSize : tickSize;\n\n    const pixels = [];\n    this._availableTicks = ticks;\n    ticks.forEach((d, i) => {\n      let s = tickGet({id: d, tick: true}, i);\n      if (this._shape === \"Circle\") s *= 2;\n      const t = this._getPosition(d);\n      if (!pixels.length || Math.abs(closest(t, pixels) - t) > s * 2) pixels.push(t);\n      else pixels.push(false);\n    });\n\n    ticks = ticks.filter((d, i) => pixels[i] !== false);\n\n    this._visibleTicks = ticks;\n\n    let hBuff = this._shape === \"Circle\"\n          ? typeof this._shapeConfig.r === \"function\" ? this._shapeConfig.r({tick: true}) : this._shapeConfig.r\n          : this._shape === \"Rect\"\n            ? typeof this._shapeConfig[height] === \"function\" ? this._shapeConfig[height]({tick: true}) : this._shapeConfig[height]\n            : this._tickSize,\n        wBuff = tickGet({tick: true});\n\n    if (typeof hBuff === \"function\") hBuff = max(ticks.map(hBuff));\n    if (this._shape === \"Rect\") hBuff /= 2;\n    if (typeof wBuff === \"function\") wBuff = max(ticks.map(wBuff));\n    if (this._shape !== \"Circle\") wBuff /= 2;\n\n    if (this._scale === \"band\") {\n      this._space = this._d3Scale.bandwidth();\n    }\n    else if (labels.length > 1) {\n      this._space = 0;\n      for (let i = 0; i < labels.length - 1; i++) {\n        const s = this._getPosition(labels[i + 1]) - this._getPosition(labels[i]);\n        if (s > this._space) this._space = s;\n      }\n    }\n    else this._space = this._size;\n\n    // Measures size of ticks\n    const textData = labels.map((d, i) => {\n\n      const f = this._shapeConfig.labelConfig.fontFamily(d, i),\n            s = this._shapeConfig.labelConfig.fontSize(d, i);\n\n      const wrap = textWrap()\n        .fontFamily(f)\n        .fontSize(s)\n        .lineHeight(this._shapeConfig.lineHeight ? this._shapeConfig.lineHeight(d, i) : undefined)\n        .width(horizontal ? this._space * 2 : this._width - hBuff - p)\n        .height(horizontal ? this._height - hBuff - p : this._space * 2);\n\n      const res = wrap(tickFormat(d));\n      res.lines = res.lines.filter(d => d !== \"\");\n      res.d = d;\n      res.fS = s;\n      res.width = res.lines.length\n        ? Math.ceil(max(res.lines.map(line => textWidth(line, {\"font-family\": f, \"font-size\": s})))) + s / 4\n        : 0;\n      res.height = res.lines.length ? Math.ceil(res.lines.length * (wrap.lineHeight() + 1)) : 0;\n      res.offset = 0;\n      res.hidden = false;\n      if (res.width % 2) res.width++;\n\n      return res;\n\n    });\n\n    textData.forEach((d, i) => {\n      if (i) {\n        const prev = textData[i - 1];\n        if (!prev.offset && this._getPosition(d.d) - d[width] / 2 < this._getPosition(prev.d) + prev[width] / 2) {\n          d.offset = prev[height] + this._padding;\n        }\n      }\n    });\n\n    const maxOffset = max(textData, d => d.offset);\n    if (maxOffset) {\n      textData.forEach(d => {\n        if (d.offset) {\n          d.offset = maxOffset;\n          d[height] += maxOffset;\n        }\n      });\n    }\n\n    // Calculates new range, based on any text that may be overflowing.\n    const rangeOuter = range.slice();\n    const lastI = range.length - 1;\n    if (this._scale !== \"band\" && textData.length) {\n\n      const first = textData[0],\n            last = textData[textData.length - 1];\n\n      const firstB = min([this._getPosition(first.d) - first[width] / 2, range[0] - wBuff]);\n      if (firstB < range[0]) {\n        const d = range[0] - firstB;\n        if (this._range === void 0 || this._range[0] === void 0) {\n          this._size -= d;\n          range[0] += d;\n        }\n        else if (this._range) {\n          rangeOuter[0] -= d;\n        }\n      }\n\n      const lastB = max([this._getPosition(last.d) + last[width] / 2, range[lastI] + wBuff]);\n      if (lastB > range[lastI]) {\n        const d = lastB - range[lastI];\n        if (this._range === void 0 || this._range[lastI] === void 0) {\n          this._size -= d;\n          range[lastI] -= d;\n        }\n        else if (this._range) {\n          rangeOuter[lastI] += d;\n        }\n      }\n\n      if (range.length > 2) range = d3Range(this._domain.length).map(d => this._size * (d / (range.length - 1)) + range[0]);\n      range = range.map(Math.round);\n      if (this._d3ScaleNegative) {\n        const negativeRange = this._d3ScaleNegative.range();\n        this._d3ScaleNegative[this._d3ScaleNegative.rangeRound ? \"rangeRound\" : \"range\"](\n          this._d3Scale && this._d3Scale.range()[0] < negativeRange[0]\n            ? [negativeRange[0], range[1]]\n            : [range[0], this._d3Scale ? negativeRange[1] : range[1]]\n        );\n        if (this._d3Scale) {\n          const positiveRange = this._d3Scale.range();\n          this._d3Scale[this._d3Scale.rangeRound ? \"rangeRound\" : \"range\"](\n            range[0] < negativeRange[0]\n              ? [range[0], positiveRange[1]]\n              : [positiveRange[0], range[1]]\n          );\n        }\n      }\n      else {\n        this._d3Scale[this._d3Scale.rangeRound ? \"rangeRound\" : \"range\"](range);\n      }\n\n    }\n\n    if (this._scale === \"band\") {\n      this._space = this._d3Scale.bandwidth();\n    }\n    else if (labels.length > 1) {\n      this._space = 0;\n      for (let i = 0; i < labels.length - 1; i++) {\n        const s = this._getPosition(labels[i + 1]) - this._getPosition(labels[i]);\n        if (s > this._space) this._space = s;\n      }\n    }\n    else this._space = this._size;\n\n    const tBuff = this._shape === \"Line\" ? 0 : hBuff;\n    const bounds = this._outerBounds = {\n      [height]: (max(textData, t => Math.ceil(t[height])) || 0) + (textData.length ? p : 0),\n      [width]: rangeOuter[lastI] - rangeOuter[0],\n      [x]: rangeOuter[0]\n    };\n\n    margin[this._orient] += hBuff;\n    margin[opposite] = this._gridSize !== void 0 ? max([this._gridSize, tBuff]) : this[`_${height}`] - margin[this._orient] - bounds[height] - p;\n    bounds[height] += margin[opposite] + margin[this._orient];\n    bounds[y] = this._align === \"start\" ? this._padding\n      : this._align === \"end\" ? this[`_${height}`] - bounds[height] - this._padding\n      : this[`_${height}`] / 2 - bounds[height] / 2;\n\n    const group = elem(`g#d3plus-Axis-${this._uuid}`, {parent});\n    this._group = group;\n\n    const grid = elem(\"g.grid\", {parent: group}).selectAll(\"line\")\n      .data((this._gridSize !== 0 ? this._grid || ticks : []).map(d => ({id: d})), d => d.id);\n\n    grid.exit().transition(t)\n      .attr(\"opacity\", 0)\n      .call(this._gridPosition.bind(this))\n      .remove();\n\n    grid.enter().append(\"line\")\n        .attr(\"opacity\", 0)\n        .attr(\"clip-path\", `url(#${clipId})`)\n        .call(this._gridPosition.bind(this), true)\n      .merge(grid).transition(t)\n        .attr(\"opacity\", 1)\n        .call(this._gridPosition.bind(this));\n\n    const labelHeight = max(textData, t => t.height) || 0;\n\n    const labelOnly = labels.filter((d, i) => textData[i].lines.length && !ticks.includes(d));\n\n    let tickData = ticks.concat(labelOnly)\n      .map(d => {\n        const data = textData.filter(td => td.d === d);\n        const dataIndex = data.length ? textData.indexOf(data[0]) : undefined;\n        const xPos = this._getPosition(d);\n\n        let labelOffset = data.length ? data[0].offset : 0;\n\n        const labelWidth = horizontal ? this._space : bounds.width - margin[this._position.opposite] - hBuff - margin[this._orient] + p;\n\n        let prev = data.length && dataIndex > 0 ? textData.filter((td, ti) => !td.hidden && td.offset >= labelOffset && ti < dataIndex) : false;\n        prev = prev.length ? prev[prev.length - 1] : false;\n        let next = data.length && dataIndex < textData.length - 1 ? textData.filter((td, ti) => !td.hidden && td.offset >= labelOffset && ti > dataIndex) : false;\n        next = next.length ? next[0] : false;\n\n        const space = Math.min(prev ? xPos - this._getPosition(prev.d) : labelWidth, next ? this._getPosition(next.d) - xPos : labelWidth);\n        if (data.length && data[0].width > space) {\n          data[0].hidden = true;\n          data[0].offset = labelOffset = 0;\n        }\n\n        const offset = margin[opposite],\n              size = (hBuff + labelOffset) * (flip ? -1 : 1),\n              yPos = flip ? bounds[y] + bounds[height] - offset : bounds[y] + offset;\n\n        return {\n          id: d,\n          labelBounds: {\n            x: horizontal ? -space / 2 : this._orient === \"left\" ? -labelWidth - p + size : size + p,\n            y: horizontal ? this._orient === \"bottom\" ? size + p : size - p - labelHeight : -space / 2,\n            width: horizontal ? space : labelWidth,\n            height: horizontal ? labelHeight : space\n          },\n          size: ticks.includes(d) ? size : 0,\n          text: labels.includes(d) ? tickFormat(d) : false,\n          tick: ticks.includes(d),\n          [x]: xPos + (this._scale === \"band\" ? this._d3Scale.bandwidth() / 2 : 0),\n          [y]: yPos\n        };\n      });\n\n    if (this._shape === \"Line\") {\n      tickData = tickData.concat(tickData.map(d => {\n        const dupe = Object.assign({}, d);\n        dupe[y] += d.size;\n        return dupe;\n      }));\n    }\n\n    new shapes[this._shape]()\n      .data(tickData)\n      .duration(this._duration)\n      .labelConfig({\n        ellipsis: d => d && d.length ? `${d}...` : \"\"\n      })\n      .select(elem(\"g.ticks\", {parent: group}).node())\n      .config(this._shapeConfig)\n      .render();\n\n    const bar = group.selectAll(\"line.bar\").data([null]);\n\n    bar.enter().append(\"line\")\n        .attr(\"class\", \"bar\")\n        .attr(\"opacity\", 0)\n        .call(this._barPosition.bind(this))\n      .merge(bar).transition(t)\n        .attr(\"opacity\", 1)\n        .call(this._barPosition.bind(this));\n\n    this._titleClass\n      .data(this._title ? [{text: this._title}] : [])\n      .duration(this._duration)\n      .height(margin[this._orient])\n      .rotate(this._orient === \"left\" ? -90 : this._orient === \"right\" ? 90 : 0)\n      .select(elem(\"g.d3plus-Axis-title\", {parent: group}).node())\n      .text(d => d.text)\n      .verticalAlign(\"middle\")\n      .width(bounds[width])\n      .x(horizontal ? bounds.x : this._orient === \"left\" ? bounds.x + margin[this._orient] / 2 - bounds[width] / 2 : bounds.x + bounds.width - margin[this._orient] / 2 - bounds[width] / 2)\n      .y(horizontal ? this._orient === \"bottom\" ? bounds.y + bounds.height - margin.bottom + p : bounds.y : bounds.y - margin[this._orient] / 2 + bounds[width] / 2)\n      .config(this._titleConfig)\n      .render();\n\n    this._lastScale = this._getPosition.bind(this);\n\n    if (callback) setTimeout(callback, this._duration + 100);\n\n    return this;\n\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the horizontal alignment to the specified value and returns the current class instance.\n      @param {String} [*value* = \"center\"] Supports `\"left\"` and `\"center\"` and `\"right\"`.\n      @chainable\n  */\n  align(_) {\n    return arguments.length ? (this._align = _, this) : this._align;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the axis line style and returns the current class instance.\n      @param {Object} [*value*]\n      @chainable\n  */\n  barConfig(_) {\n    return arguments.length ? (this._barConfig = Object.assign(this._barConfig, _), this) : this._barConfig;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the scale domain of the axis and returns the current class instance.\n      @param {Array} [*value* = [0, 10]]\n      @chainable\n  */\n  domain(_) {\n    return arguments.length ? (this._domain = _, this) : this._domain;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the transition duration of the axis and returns the current class instance.\n      @param {Number} [*value* = 600]\n      @chainable\n  */\n  duration(_) {\n    return arguments.length ? (this._duration = _, this) : this._duration;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the grid values of the axis and returns the current class instance.\n      @param {Array} [*value*]\n      @chainable\n  */\n  grid(_) {\n    return arguments.length ? (this._grid = _, this) : this._grid;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the grid style of the axis and returns the current class instance.\n      @param {Object} [*value*]\n      @chainable\n  */\n  gridConfig(_) {\n    return arguments.length ? (this._gridConfig = Object.assign(this._gridConfig, _), this) : this._gridConfig;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the grid size of the axis and returns the current class instance.\n      @param {Number} [*value* = undefined]\n      @chainable\n  */\n  gridSize(_) {\n    return arguments.length ? (this._gridSize = _, this) : this._gridSize;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the overall height of the axis and returns the current class instance.\n      @param {Number} [*value* = 100]\n      @chainable\n  */\n  height(_) {\n    return arguments.length ? (this._height = _, this) : this._height;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the visible tick labels of the axis and returns the current class instance.\n      @param {Array} [*value*]\n      @chainable\n  */\n  labels(_) {\n    return arguments.length ? (this._labels = _, this) : this._labels;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *orient* is specified, sets the orientation of the shape and returns the current class instance. If *orient* is not specified, returns the current orientation.\n      @param {String} [*orient* = \"bottom\"] Supports `\"top\"`, `\"right\"`, `\"bottom\"`, and `\"left\"` orientations.\n      @chainable\n  */\n  orient(_) {\n    if (arguments.length) {\n\n      const horizontal = [\"top\", \"bottom\"].includes(_),\n            opps = {top: \"bottom\", right: \"left\", bottom: \"top\", left: \"right\"};\n\n      this._position = {\n        horizontal,\n        width: horizontal ? \"width\" : \"height\",\n        height: horizontal ? \"height\" : \"width\",\n        x: horizontal ? \"x\" : \"y\",\n        y: horizontal ? \"y\" : \"x\",\n        opposite: opps[_]\n      };\n\n      return this._orient = _, this;\n\n    }\n    return this._orient;\n  }\n\n  /**\n      @memberof Axis\n      @desc If called after the elements have been drawn to DOM, will returns the outer bounds of the axis content.\n      @example\n{\"width\": 180, \"height\": 24, \"x\": 10, \"y\": 20}\n  */\n  outerBounds() {\n    return this._outerBounds;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the padding between each tick label to the specified number and returns the current class instance.\n      @param {Number} [*value* = 10]\n      @chainable\n  */\n  padding(_) {\n    return arguments.length ? (this._padding = _, this) : this._padding;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the inner padding of band scale to the specified number and returns the current class instance.\n      @param {Number} [*value* = 0.1]\n      @chainable\n  */\n  paddingInner(_) {\n    return arguments.length ? (this._paddingInner = _, this) : this._paddingInner;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the outer padding of band scales to the specified number and returns the current class instance.\n      @param {Number} [*value* = 0.1]\n      @chainable\n  */\n  paddingOuter(_) {\n    return arguments.length ? (this._paddingOuter = _, this) : this._paddingOuter;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the scale range (in pixels) of the axis and returns the current class instance. The given array must have 2 values, but one may be `undefined` to allow the default behavior for that value.\n      @param {Array} [*value*]\n      @chainable\n  */\n  range(_) {\n    return arguments.length ? (this._range = _, this) : this._range;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the scale of the axis and returns the current class instance.\n      @param {String} [*value* = \"linear\"]\n      @chainable\n  */\n  scale(_) {\n    return arguments.length ? (this._scale = _, this) : this._scale;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element.\n      @param {String|HTMLElement} [*selector* = d3.select(\"body\").append(\"svg\")]\n      @chainable\n  */\n  select(_) {\n    return arguments.length ? (this._select = select(_), this) : this._select;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick shape constructor and returns the current class instance.\n      @param {String} [*value* = \"Line\"]\n      @chainable\n  */\n  shape(_) {\n    return arguments.length ? (this._shape = _, this) : this._shape;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick style of the axis and returns the current class instance.\n      @param {Object} [*value*]\n      @chainable\n  */\n  shapeConfig(_) {\n    return arguments.length ? (this._shapeConfig = assign(this._shapeConfig, _), this) : this._shapeConfig;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick formatter and returns the current class instance.\n      @param {Function} [*value*]\n      @chainable\n  */\n  tickFormat(_) {\n    return arguments.length ? (this._tickFormat = _, this) : this._tickFormat;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick values of the axis and returns the current class instance.\n      @param {Array} [*value*]\n      @chainable\n  */\n  ticks(_) {\n    return arguments.length ? (this._ticks = _, this) : this._ticks;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the tick size of the axis and returns the current class instance.\n      @param {Number} [*value* = 5]\n      @chainable\n  */\n  tickSize(_) {\n    return arguments.length ? (this._tickSize = _, this) : this._tickSize;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the title of the axis and returns the current class instance.\n      @param {String} [*value*]\n      @chainable\n  */\n  title(_) {\n    return arguments.length ? (this._title = _, this) : this._title;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the title configuration of the axis and returns the current class instance.\n      @param {Object} [*value*]\n      @chainable\n  */\n  titleConfig(_) {\n    return arguments.length ? (this._titleConfig = Object.assign(this._titleConfig, _), this) : this._titleConfig;\n  }\n\n  /**\n      @memberof Axis\n      @desc If *value* is specified, sets the overall width of the axis and returns the current class instance.\n      @param {Number} [*value* = 400]\n      @chainable\n  */\n  width(_) {\n    return arguments.length ? (this._width = _, this) : this._width;\n  }\n\n}\n","import {default as Axis} from \"./Axis\";\n\n/**\n    @class AxisBottom\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn below the horizontal domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\nexport default class AxisBottom extends Axis {\n\n  /**\n      @memberof AxisBottom\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  constructor() {\n    super();\n    this.orient(\"bottom\");\n  }\n\n}\n","import {default as Axis} from \"./Axis\";\n\n/**\n    @class AxisLeft\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn to the left of the vertical domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\nexport default class AxisLeft extends Axis {\n\n  /**\n      @memberof AxisLeft\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  constructor() {\n    super();\n    this.orient(\"left\");\n  }\n\n}\n","import {default as Axis} from \"./Axis\";\n\n/**\n    @class AxisRight\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn to the right of the vertical domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\nexport default class AxisRight extends Axis {\n\n  /**\n      @memberof AxisRight\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  constructor() {\n    super();\n    this.orient(\"right\");\n  }\n\n}\n","import {default as Axis} from \"./Axis\";\n\n/**\n    @class AxisTop\n    @extends Axis\n    @desc Shorthand method for creating an axis where the ticks are drawn above the vertical domain path. Extends all functionality of the base [Axis](#Axis) class.\n*/\nexport default class AxisTop extends Axis {\n\n  /**\n      @memberof AxisTop\n      @desc Invoked when creating a new class instance, and overrides any default parameters inherited from Axis.\n      @private\n  */\n  constructor() {\n    super();\n    this.orient(\"top\");\n  }\n\n}\n"],"names":["let","const","year","date","super","TextBox","constant","rtl","detectRTL","this","attrize","extent","scales.scaleSqrt","size","select","transition","range","d3Range","textWrap","scales.scaleLog","closest","max","textWidth","min","d","i","s","elem","assign","BaseClass"],"mappings":"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"}